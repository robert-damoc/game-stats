<h1>
  <p style="float: left;">
    Game <%= @game.id.split("-").first %>
    <a class="d-inline-flex align-items-center mb-2 text-body-emphasis text-decoration-none" href="/" aria-label="Bootstrap">
      <span class="badge rounded-pill bg-info"><%= @game.state.humanize %></span>
    </a>
  </p>
  <p style="float: right;"><%= link_to "Back to games", games_path, class: "btn btn-primary" %></p>
</h1>

<table class="table table table-striped table-hover table-sm">
  <thead class="table-dark">
    <tr style="text-align: left">
      <th scope="col">Players</th>
      <th scope="col">Created</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody style="text-align: left">
    <tr>
      <td scope="row">
        <% if @game.game_players.any? %>
          <% @game.game_players.each do |player| %>
            <div><%= player.name_with_position %></div>
          <% end %>
        <% else %>
          No players
        <% end %>
      <td scope="row"><%= time_ago_in_words(@game.created_at) %></td>
      </td>
      <td scope="row"><%= render 'games/action_buttons', game: @game %></td>
    </tr>
  </tbody>
</table>
<h2>Rounds</h2>

<% if @game.rounds.any? %>
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Position</th>
        <th>Round Type</th>
        <th>Player</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @game.rounds.each do |round| %>
        <tr>
        <td><%= round.position   %></td>
          <td><%= round.round_type %></td>
          <td><%= round.game_player.player.name %></td>
          <td>
            <%= link_to 'Edit', edit_game_round_path(@game, round), class: 'btn btn-primary btn-sm' %>
            <%= link_to 'Destroy', game_round_path(@game, round), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  No rounds available for this game.
<% end %>
